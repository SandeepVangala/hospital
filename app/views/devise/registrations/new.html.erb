<h2>Sign up</h2>

<%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
  <%= devise_error_messages! %>

  <div class="field">
    <%= f.label "Accout type" %><br />
   <%= collection_select(:role_id, 0, Role.all, :id, :title) %>
  </div>
  <div id="doctor_fileds">
    <div class="field">
      <%= f.label :address %><br />
      <%= f.text_field :address%> 
    </div>
    <div class="field">
      <%= f.label :city %><br />
      <%= f.text_field :city %> 
    </div>
    <div class="field">
      <%= f.label :state %><br />
      <%= f.text_field :state %> 
    </div>
    <div class="field">
      <%= f.label :zip %><br />
      <%= f.text_field :zip %> 
    </div>
    <div class="field">
      <%= f.label "School Received Degree From" %><br />
      <%= f.text_field :degree_from %> 
    </div>
    <div class="field">
      <%= f.label "Years in Practice" %><br />
      <%= f.text_field :years_practice %> 
    </div>
  </div>

  <div class="field">
    <%= f.label :email %><br />
    <%= f.email_field :email, autofocus: true %> 
  </div>

  <div class="field">
    <%= f.label :password %>
    <% if @validatable %>
    <em>(<%= @minimum_password_length %> characters minimum)</em>
    <% end %><br />
    <%= f.password_field :password, autocomplete: "off" %>
  </div>

  <div class="field">
    <%= f.label :password_confirmation %><br />
    <%= f.password_field :password_confirmation, autocomplete: "off" %>
  </div>

  <div class="actions">
    <%= f.submit "Sign up" %>
  </div>
<% end %>

<%= render "devise/shared/links" %>

<script type="text/javascript">
$( "select#role_id_0" ).change(function() {
  if(this.value == 2 || this.value == 3)
  {
    $("#doctor_fileds").hide();
  }else {
    $("#doctor_fileds").show();
  }
});
</script>
